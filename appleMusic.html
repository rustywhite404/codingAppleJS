<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Apple Music UI</title>
    <link href="./appleMusic.css" rel="stylesheet">
    <script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>
    
   </head>
  <body>
    <div class="card-background">
        <div class="card-box">
            <img src="card1.png">
        </div>
        <div class="card-box">
            <img src="card2.png">
        </div>
        <div class="card-box">
            <img src="card3.png">
        </div>
    </div>


    <script>
        $(window).scroll(function(){
           var scrollHeight = $(window).scrollTop();
           console.log(scrollHeight); //스크롤 높이 계산 

           //var y = x(기울기) * 높이 + y(절편);
           //1 = 650x + y;
           //0 = 1150x + y; 
           // 이걸 계산하면 x = -1/500, y = 115/50 이 나옴. 이걸 넣어보자

           var y;
           y = (-1/500) * scrollHeight + 115/50
           //650~1150까지 스크롤바를 내리면 첫째 카드의 opacity를 1~0으로 서서히 변경
           $('.card-box').eq(0).css('opacity', y); 
            
           var x; 
           // 1 = 650x + y; 
           // 0.9 = 1150x + y;
           x = (-1/5000)* scrollHeight + 113/100;
           $('.card-box').eq(0).css('transform', `scale(${x})`); 

           var y2;
           // 1 = 1200x+y
           // 0 = 1750x+y
           y2 = (-1/550)  * scrollHeight + (35/11);
           $('.card-box').eq(1).css('opacity', y2); 
           

           var x2;
           x2 = (-1/5500) * scrollHeight + (67/55);
           $('.card-box').eq(1).css('transform', `scale(${x2})`); 

        });
    </script>
</body>
</html>