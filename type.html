<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>TYPEWRITING</title>
    <link href="./appleMusic.css" rel="stylesheet">
    <script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>
    
   </head>
  <body>
    <div class="type_container">
        <h1>ABCDE</h1>
        <button type="button" class="typeBtn">버튼</button>
    </div>

    <script>

        var h1Text = document.querySelector('h1');
        var originText = document.querySelector('h1').innerHTML;
        $('.typeBtn').click(function(){
            
            typeAnimation(h1Text,originText); 
            
        });

        function typeAnimation(h1Text,originText){
            h1Text.innerHTML='';
            for(let i=0;i<originText.length;i++){
                // var을 쓰면 undefined 에러가 남
                // 반복문이 다 돌면 i는 6이 되는데, 반복문이 다 돌고 0.5초 후에 setTimeOut 내부 코드가 실행되기 때문.
                // 그래서 [6]을 호출하면 없는 글씨라서 undefined가 뜨는 것.
                // let으로 바꿔주면 for 반복문 안에서 참조해서 쓸 수 있는 i변수가 생성되기 때문에
                // setTimeOut같이 i를 좀 늦게 참조해서 쓰는 코드들도 제대로 값을 가져올 수 있게 됨
                // **************복잡하면 그냥 for 내에서는 let 쓰면 버그 안 난다고 이해해도 됨************ 
                 setTimeout(() => {
                 h1Text.innerHTML = h1Text.innerHTML + originText[i]
                 }, 500*i);
            }
        };
        
    </script>
</body>
</html>